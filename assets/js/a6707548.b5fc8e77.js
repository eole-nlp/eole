"use strict";(self.webpackChunkdocusaurus_tsx=self.webpackChunkdocusaurus_tsx||[]).push([[8883],{5538:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=t(4848),s=t(8453);const a={},r="Example of using Hugging Face streaming dataset",o={id:"recipes/NewsPalm-synthetic/README",title:"Example of using Hugging Face streaming dataset",description:"Based on//arxiv.org/pdf/2408.06537",source:"@site/docs/recipes/NewsPalm-synthetic/README.md",sourceDirName:"recipes/NewsPalm-synthetic",slug:"/recipes/NewsPalm-synthetic/",permalink:"/eole/docs/recipes/NewsPalm-synthetic/",draft:!1,unlisted:!1,editUrl:"https://github.com/eole-nlp/eole/tree/main/docs/docs/recipes/NewsPalm-synthetic/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Recipes",permalink:"/eole/docs/category/recipes"},next:{title:"Recipes",permalink:"/eole/docs/recipes/"}},l={},c=[{value:"Based on: https://arxiv.org/pdf/2408.06537",id:"based-on-httpsarxivorgpdf240806537",level:2},{value:"Get the vocab and BPE model on HF",id:"get-the-vocab-and-bpe-model-on-hf",level:3},{value:"Optionally you can get the trained model to test it.",id:"optionally-you-can-get-the-trained-model-to-test-it",level:3},{value:"Train with the yaml config file",id:"train-with-the-yaml-config-file",level:2},{value:"Run inference",id:"run-inference",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"example-of-using-hugging-face-streaming-dataset",children:"Example of using Hugging Face streaming dataset"}),"\n",(0,i.jsxs)(n.h2,{id:"based-on-httpsarxivorgpdf240806537",children:["Based on: ",(0,i.jsx)(n.a,{href:"https://arxiv.org/pdf/2408.06537",children:"https://arxiv.org/pdf/2408.06537"})]}),"\n",(0,i.jsx)(n.p,{children:"Introducing the NewsPaLM MBR and QE Dataset:\nLLM-Generated High-Quality Parallel Data Outperforms Traditional\nWeb-Crawled Data"}),"\n",(0,i.jsx)(n.h3,{id:"get-the-vocab-and-bpe-model-on-hf",children:"Get the vocab and BPE model on HF"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/eole-nlp/NewsPalmSynthetic-ENDE",children:"https://huggingface.co/eole-nlp/NewsPalmSynthetic-ENDE"})}),"\n",(0,i.jsx)(n.p,{children:"copy files:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ende.vocab2"}),"\n",(0,i.jsx)(n.li,{children:"subwords.en_de.bpe"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"optionally-you-can-get-the-trained-model-to-test-it",children:"Optionally you can get the trained model to test it."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"config.json"}),"\n",(0,i.jsx)(n.li,{children:"vocab.json"}),"\n",(0,i.jsx)(n.li,{children:"model.00.safetensors"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"train-with-the-yaml-config-file",children:"Train with the yaml config file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"eole train -c newspalm-synthetic-hfstreaming.yaml\n"})}),"\n",(0,i.jsx)(n.h2,{id:"run-inference",children:"Run inference"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"eole predict -c inference.yaml --src newstest2023-src.en --output newstest2023-hyp.de\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then you can score with sacrebleu and/or comet"}),"\n",(0,i.jsx)(n.p,{children:"Scoring with Unbabel/wmt22-comet-da gives: 81.90"}),"\n",(0,i.jsxs)(n.p,{children:["You can compare to table 5 lines 2a) to 2d) of the paper ",(0,i.jsx)(n.a,{href:"https://arxiv.org/pdf/2408.06537",children:"https://arxiv.org/pdf/2408.06537"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);